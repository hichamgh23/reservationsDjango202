<div class="sidebar" style="width: 250px; background: #343a40; color: #fff; min-height: 100vh; position: fixed; left: 0; top: 0; z-index: 1000;">
    <div class="user-panel" style="padding: 15px; border-bottom: 1px solid #4b545c; display: flex; align-items: center; background: rgba(0,0,0,0.1);">
        {% if user.is_authenticated %}
            <img src="{{ user.profile.image.url }}" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #4f5962; margin-right: 12px; object-fit: cover;">
            <div class="info">
                <a href="{% url 'catalogue:profile' %}" style="color: #fff; text-decoration: none; font-weight: 500; display: block;">{{ user.username }}</a>
                <small style="color: #28a745;"><i class="fas fa-circle" style="font-size: 9px;"></i> En ligne</small>
            </div>
        {% else %}
            <i class="fas fa-user-circle fa-2x" style="margin-right: 12px; color: #c2c7d0;"></i>
            <div class="info" style="color: #c2c7d0;">Visiteur</div>
        {% endif %}
    </div>

    <nav style="margin-top: 15px;">
        <span style="padding: 10px 20px; color: #6c757d; font-size: 12px; font-weight: bold; text-transform: uppercase; display: block;">Menu</span>
        <a href="{% url 'welcome' %}" class="side-link"><i class="fas fa-home"></i> Accueil</a>
        <a href="{% url 'catalogue:show_index' %}" class="side-link"><i class="fas fa-theater-masks"></i> Spectacles</a>
        
        {% if user.is_authenticated %}
            <a href="{% url 'catalogue:profile' %}" class="side-link"><i class="fas fa-id-card"></i> Mon Profil</a>
            {% if user.is_staff %}
                <a href="/admin/" class="side-link" style="color: #ffc107;"><i class="fas fa-user-shield"></i> Administration</a>
            {% endif %}
            <a href="{% url 'logout' %}" class="side-link" style="color: #ff4d4d;"><i class="fas fa-sign-out-alt"></i> DÃ©connexion</a>
        {% else %}
            <a href="{% url 'login' %}" class="side-link"><i class="fas fa-sign-in-alt"></i> Connexion</a>
            <a href="{% url 'signup' %}" class="side-link"><i class="fas fa-user-plus"></i> Inscription</a>
        {% endif %}
    </nav>
</div>

<style>
    .side-link { color: #c2c7d0; display: block; padding: 12px 20px; text-decoration: none; transition: all 0.2s; border-left: 3px solid transparent; }
    .side-link:hover { background: rgba(255,255,255,0.05); color: #fff; border-left: 3px solid #007bff; }
    .side-link i { width: 25px; margin-right: 5px; }
</style>
